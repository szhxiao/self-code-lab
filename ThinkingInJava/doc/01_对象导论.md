# 对象导论

## 抽象过程

面向对象思想的实质是：程序可以通过添加新类型的对象使自身适用于某个特定问题。

面向对象语言的基本特性：

-   万物皆为对象。
-   程序是对象的集合，它们通过发送消息来告知彼此所要做的。
-   每个对象都有自己的由其他对象所构成的存储。
-   每个对象都拥有其类型。
-   某一特定类型的对象都可以接收同样的消息。

**对象具有状态、行为和标识。**

## 每个对象都有一个接口

类描述了具有相同特性（数据元素）和行为（功能）的对象集合。

每个对象都只能满足某些请求，这些请求由对象的接口所定义，决定接口的便是类型。

接口确定了对某一特定对象所能发出的请求。

## 每个对象都提供服务

当正在试图开发或理解一个程序设计时，最好的方法之一就是将对象想象为“服务提供者”。程序本身将向用户提供服务，它将通过调用其他对象提供的服务来实现这一目的。你的目标是去创建能够提供理想的服务来解决问题的一系列对象。

在良好的面向对象设计中，每个对象都可以很好地完成一项任务，但是它并不试图做更多的事。

## 被隐藏的具体实现

Java 用三个关键字在类的内部设定边界：

-   public

    其后的元素对任何人都是可用的。

-   private

    除类型创建者和类型的内部方法之外任何人都不能访问的元素。

-   protected

    继承的类可以访问的元素。

-   包访问权限

    类可以访问在同一个包中的其他类的成员。

## 复用具体实现

-   组合

    新的类可以由任意数量、任意类型的其他对象以任意可以实现新的类中想要的功能的方式所组成。

    组合经常被视为"has-a"（拥有）关系。

-   继承

## 继承

类型不仅仅只是描述了作用于一个对象集合上的约束条件，同时还有与其他类型之间的关系。

继承使用基类型和导出类型的概念表示了这种类型之间的相似性。一个基类型包含其所有导出类型所共享的特性和行为。可以创建一个基类型来表示系统中某些对象的核心概念，从基类型中导出其他类型，来表示此核心可以被实现的各种不同方式。

当继承现有类型时，也就创造了新的类型。新的类型不仅包括现有类型的所有成员，而且复制了基类的接口。导出类与基类具有相同的类型。

导出类与基类产生差异：

-   在导出类中添加新方法
-   改变现有基类的方法的行为，即覆盖(overriding)

## 伴随多态的可互换对象

在 OOP 中，程序直到运行时才能够确定代码的地址，当消息发送到一个泛化对象时，采用后期绑定。

后期绑定：当向对象发送消息时，被调用的代码直到运行时才能确定。

## 单根继承结构

单根继承结构中的所有对象都具有一个共用接口，保证所有对象都具备某些功能。

单根继承保证所有对象都具备某些功能。

单根继承结构使垃圾回收器的实现变得容易得多。

## 容器

需要对容器有所选择，主要原因是：

-   不同容器提供了不同类型的接口和外部行为；
-   不同的容器对于某些操作具有不同的效率。

参数化类型就是一个编译器可以自动定制作用于特定类型上的类。

## 对象的创建和生命期

Java 采用动态内存分配方式：在堆中动态地创建对象，直到运行时才知道需要多少对象，对象的生命周期，以及它们的具体类型是什么。

Java 的垃圾回收器被设计用来处理内存释放问题。垃圾回收器“知道”对象的何时不再被使用，并自动释放对象占用的内存。

## 异常处理：处理错误

异常是一种对象，它从出错地点被“抛出”，并被专门设计用来处理特定类型错误的相应的异常处理器“捕获”。异常处理就像是与程序正常执行路径并行的、在错误履时执行的另一种路径。

## 并发

线程只是一种为单一处理器分配执行时间的手段。

整个过程是：某个任务锁定某项资源，完成其任务，然后释放资源锁，使其他任务可以使用这项资源。
