# 初始化与清理

## 为构造器确保初始化

在用户有能力操作对象之前自动调用相应的构造器，保证初始化的进行。

构造器名称必须与类名完全相同。

## 方法重载

1. 区分重载方法

    每个重载方法必须有一个独一无二的参数类型列表。

2. 基本类型重载

    如果传入的数据类型小于方法中声明的形式参数类型，实际数据类型就会被提升。如果传入的实际参数较大，就会通过类型转换执行窄化转换。

    char 类型如果无法找到恰好接受 char 参数的方法，就会被提升为 int 型。

3. 以返回值区分重载方法

## 默认构造器

默认构造器的作用是创建一个默认对象，如果类中没有构造器，编译器会创建一个默认构造器。

## this 关键字

this 关键字只能在方法内部调用，表示对当前对象的引用。

1. 在构造器中调用构造器

    可以使用 this 在一个构造器内调用另一个，这条语句必须是第一条代码。

2. static 的含义

    static 方法就是没有 this 的方法。

    static 方法内部不能调用非静态方法。

## 清理终结处理和垃圾回收

Java 有垃圾回收器负责回收无用对象占据的内存资源。

1. finalize()的用途

    使用垃圾回收器的唯一原因是为了回收程序不再使用的内存。

2. 你必须实施清理

    无论是“垃圾回收”还是“终结”，都不保证一定会发生。

3. 终结条件

    System.gc()强制进行终结动作。

4. 垃圾回收器如何工作

    - 引用计数法
    - 自适应回收

## 成员初始化

Java 尽力保证：所有变量在使用前都能得到恰当的初始化。

1. 未初始化

    数据成员都会被赋予默认值。

2. 指定初始化

    定义类成员变量的地方为其赋值。

## 构造器初始化

无法阻止自动初始化的进行，它将在构造器被调用之前发生。

1. 初始化顺序

    类内部，变量定义的先后顺序决定了初始化的顺序。

2. 静态数据初始化

    无论创建多少个对象，静态数据都只占用一份存储区域。

3. 显式的静态初始化

    当首次生成类的对象或者首次访问属于类的静态数据成员时，执行 static 初始化块。

4. 非静态实例初始化

## 数组初始化

1. 数组定义和初始化

    > int[] a; //推荐使用

    数组的创建是在运行时刻进行的，初始化动作可以出现在代码的任何地方，但应尽可能地在定义处进行初始化。

2. 可变参数列表

    可变参数列表中可以使用任何类型的参数，包括基本类型。

## 枚举类型

switch 是要在有限的可能值集合中进行选择，与 enum 正是绝佳的组合。
