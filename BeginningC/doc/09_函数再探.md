# 第9章  函数再探

## 9.1 函数指针

如果函数通过指针来调用，必须提供地址、变元类型和个数，以及返回值的类型。

1. 声明函数指针
    
2. 通过函数指针调用函数
   
3. 函数指针的数组

4. 作为变元的函数指针
    
## 9.2 函数中的变量

1. 静态变量：函数内部的追踪
    
    静态变量与自动变量的不同：
    * 虽然静态变量在函数的作用域内定义，但当执行退出该函数后，静态变量不会销毁
    * 自动变量每次进入作用域时，都会初始化一次，但静态变量只在程序开始时初始化一次
    
    *所有的静态变量都会初始化为0，除非将它们初始化为其他值*

2. 在函数之间共享变量
    
    全局变量可以取代函数变元及返回值，但应少使用全局变量。

    **最好不要给本地变量和全局变量使用相同的名称。**

## 9.3 调用自己的函数：递归

递归的主要用途是解决复杂的问题。

## 9.4 变元个数可变的函数

1. 复制va_list
    
2. 长度可变的变元列表的基本规则
    
## 9.5 main()函数

## 9.6 结束程序

1. abort()函数
    
    调用abort()函数会不正常地结束程序。

2. exit()和atexit()函数
    
    调用exit()函数会正常结束程序，需要一个int型参数，表示程序结束时的状态。

    调用atexit()会标识应用程序终止时要执行的函数。

3. _Exit()函数
    
    调用_Exit()函数会正常终止程序，并把变元值返回给主机环境。

4. quick_exit()和at_quick_exit()函数
    
## 9.7 提高性能

1. 内联声明函数
    
2. 使用restrict关键字
    
