# 第8章  程序的结构

C语言中的一个重要观念是，每个程序都应切割成许多小的函数。

## 8.1 程序的结构

1. 变量的作用域和生存期
    
    变量只存在于定义它们的块中，在声明时创建，在遇到下一个闭括号时就不存在了。

2. 变量的作用域和函数

    每个函数体都是一个块。在一个函数内声明的自动变量是这个函数的本地变量，在其他地方不存在。

## 8.2 函数

1. 定义函数
    
   * 函数头定义了函数的名称、参数和返回值类型
   * 函数体包含在调用函数时执行的语句

    没有函数体的函数通常在复杂程序的测试阶段使用。

    1. 函数的命名

        函数的名称可以是任何合法的名称，但不能是保留字，也不能和程序中其他函数的名称相同。
        
        注意：**不要使用与任何标准库函数相同的名称。**

    2. 函数的参数

        函数的参数在函数头中定义，是调用函数必须指定的变元占位符。函数的参数是一列变量名称和它们的类型，参数之间用逗号分隔。

        要把数组作为变元传递给函数，还必须传递一个额外的变元，指定数组的大小。

    3. 指定返回的类型

        返回值类型可以指定为任何合法的类型。

        返回值类型是void*，表示指向void的指针；返回类型是void，表示没有返回值。

2. return语句
    
## 8.3 按值传递机制

调用函数时传递变元的变量只能访问变元值的副本。

被调用函数修改属于调用函数的变量值的唯一方式是把变量的地址接收为变元值。

从函数返回的值也是一个副本。

## 8.4 函数原型

## 8.5 指针用作参数和返回值

1. 常量参数
    
    使用const修饰函数参数，表示函数将传送给参数的变元看做一个常量。

2. 返回指针的风险
    
    绝不返回函数中本地变量的地址。