# 第13章  支持功能

## 13.1  预处理

1. 在程序中包含头文件
    
2. 定义自己的头文件
    
    可以定义自己的头文件，通常其扩展名是.h。

    常用的技巧：创建一个头文件，它含有程序中所有函数的原型以及类型声明，将这些作为作为一个独立的单元来管理，并放在程序源文件的开头。

3. 管理多个源文件
    
4. 外部变量
    
    每个全局变量在一个文件中只允许定义一次。

5. 静态函数
    
    把函数声明为静态，就可以确保该函数仅在定义它的源文件中可见。

6. 替换程序源代码
    
    #define指令的一个常见用法是定义数组的维度，允许用一个标志确定多个数组的维度。

## 13.2 宏

1. 看起来像函数的宏
    
2. 字符串作为宏参数
    
3. 在宏展开式中结合两个变元

## 13.3 多行上的预处理指令

1. 预处理器逻辑指令
    
2. 条件编译
    
    ```
    #if defined identifier
    // Statements...
    #endif
    ```

    测试标识符是否不存在
    ```
    #if !defined block1
        #define block1
        /* Statements you do not */
        /* want to coour more than once.*/
    #endif
    ```
3. 测试多个条件
    
4. 取消定义的标识符
    
    ```
    #undef block1
    ```
5. 测试标识符的指定值的指令
    
6. 多项选择
    
7. 标准预处理宏

## 13.4 调试方法

1. 集成的调试器
    
2. 调试阶段的预处理器
    
3. 断言
   
   断言是一条错误消息，在满足某个条件时输出该消息。

   * 运行期断言
   * 关闭断言功能
   * 编译期断言 

## 13.5 日期和时间函数

1. 获取时间值
    
    返回程序片某个实现代码定义的参考点后的处理器时间，类型为clock_t。
    ```
    clock_t clock(void)
    ```

2. 获取日期
    
3. 确定某一天是星期几

